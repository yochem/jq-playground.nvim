*jq-playground.txt*			Interactive `jq` playground in Nvim.

=============================================================================
jq-playground						      *jq-playground*

jq-playground allows for interactively running jq queries on json files. It's
similar to https://play.jqlang.org and |:InspectTree|. It can also be used for
query programs similar to jq.

=============================================================================
Configuration		*jq-playground.setup()* *jq-playground-configuration*

This plugin can be configured in Lua using its `setup()` method. These are the
default values: >lua

  require('jq-playground').setup({
      cmd = { 'jq' },
      output_window = {
	split_direction = 'right',
	width = nil,
	height = nil,
	scratch = true,
	filetype = 'json',
	name = 'jq output',
      },
      query_window = {
	split_direction = 'below',
	width = nil,
	height = 0.3,
	scratch = false,
	filetype = 'jq',
	name = 'jq query editor',
      },
      disable_default_keymap = false,
    }
  })
<


• `cmd`: (path to) jq executable and custom flags you might add. It is passed
  directly to |vim.system|. **NOTE**: this is ignored and set to `yq`
  when the input filetype is detected as YAML. This behaviour might change in
  the future.
• `split_direction`: can be `'left'`, `'right'`, `'above'` or `'below'`. The
  split direction of the output window is relative to the input window, and
  that of the query window is relative to the output window (they open after
  each other).
• `width` and `height`:
  • `nil`: use the default: split in half
  • `0-1`: percentage of current width/height
  • `>1`: absolute width/height in number of characters or lines
• `scratch`: if the buffer should be a |scratch-buffer|.
• `disable_default_keymap`: disables default `<CR>` map in the query window

Open Playground ~
				      *:JqPlayground* *jq-playground-command*
Start the playground with `:JqPlayground`. The current buffer is used as input
file, unless a filename is provided, e.g. `:JqPlayground file.json`.

Run Query ~
			     *JqPlaygroundRunQuery* *jq-playground-run-query*
The query is ran by the buffer-local |<Plug>| mapping
`<Plug>(JqPlaygroundRunQuery)`. The default is <CR> in normal mode. To remap
it: >lua

  vim.keymap.set('n', 'R', '<Plug>(JqPlaygroundRunQuery)')
<

Buffer Variables ~
						     *b:jqplayground_inputbuf*
The bufnr of the input buffer is available in the query buffer as
`b:jqplayground_inputbuf`.


vim:tw=78:ts=8:noet:ft=help:norl:
